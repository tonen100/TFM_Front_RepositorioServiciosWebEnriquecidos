<div class="alert alert-danger alert-dismissible fade in" style="width: 100%; display: none;" id="errorAlert">
    <p style="margin: auto;text-align: center;">{{ errorMessage }}<span (click)="hideError()" aria-label="close" style="float: right;">&times;</span></p>
</div>

<form [formGroup]="editAPIForm" (ngSubmit)="onEditAPI()" id="editAPIForm" style="width: 90%;">
    <fieldset class="fieldsGroup container" style="width: 100%;max-width: 100%;height: fit-content;">
        <legend style="text-align: left; height:17%; margin-top:2%; justify-content: flex-start; font-size: xx-large;" class="centerVericalBlock">{{ translateService.instant('api.edit_title') }} {{ restApi.name }} ({{ translateService.instant('api.title') }})</legend>
        <div class="row" style="min-height: 75%;height: fit-content;margin-top: 50px;">
            <div style="display: inline-block;width: 25%;">
                <div class="form-group has-danger row align-items-center">
                    <img id="imageLogo" style="width: 90%; height: auto;"/>
                </div>
                <div class="form-group has-danger row align-items-center">
                    <label for="logoURL" class="form-control-label col-4">{{ translateService.instant('api.logo_label') }} :</label>
                    <span class="col-1"></span>
                    <input type="text" id="logoURL" formControlName="logoURL" class="form-control col-7" (change)="onLoadLogoURL()"/>
                </div>
                <div class="form-group has-danger row align-items-center">
                    <label for="logo" class="form-control-label col-4">({{ translateService.instant('api.upload_label') }}) :</label>
                    <span class="col-1"></span>
                    <input type="file" class="form-control col-7" accept="image/*" id="logo" name="logo" aria-describedby="fileHelp" (change)="onLoadLogoFile()">
                </div>
            </div>
            <div style="display: inline-block;width: 3%;"></div>
            <div style="display: inline-block;width: 72%;">
                <div class="form-group has-danger row align-items-center">
                    <input type="text" formControlName="name" [placeholder]="translateService.instant('api.name_label')" class="form-control col-6" style="font-size: x-large;">
                </div>
                <div class="form-group has-danger row align-items-center shadow-textarea">
                    <textarea class="form-control z-depth-1" formControlName="description" id="description" rows="8" [placeholder]="translateService.instant('api.description_placeholder')"></textarea>
                </div>
                <div class="custom-control custom-checkbox form-group has-danger row align-items-center" style="margin: auto;width: fit-content;">
                    <div class="form-control-label" style="text-align: start;font-weight: 500;">{{ translateService.instant('api.business_models.title') }}</div>
                    <ul>
                        <li *ngFor="let businessModel of businessModels">
                            <input [formControlName]="businessModel" [name]="businessModel" type="checkbox" class="custom-control-input" [id]="businessModel">
                            <label class="custom-control-label" [for]="businessModel">{{ translateService.instant('api.business_models.' + businessModel) }}</label>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="centerVerticalBlock" style="max-width: 500px;"> 
            <button class="btn btn-primary" style="font-size: large;height: 50px;width: 200px;margin-right: 50px;" (click)="goToRestAPI()">
                {{ translateService.instant('api.cancel') }}
            </button>
            <button type="submit" class="btn btn-primary" style="font-size: large;height: 50px;width: 200px;margin-left: 50px;" [disabled]="!editAPIForm.valid">
                {{ translateService.instant('api.edit') }}
            </button>
        </div>
    </fieldset>
</form>
