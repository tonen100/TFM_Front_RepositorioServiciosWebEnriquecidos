<div class="alert alert-danger alert-dismissible fade in" style="width: 100%; display: none;" id="errorAlert">
    <p style="margin: auto;text-align: center;">{{ errorMessage }}<span (click)="hideError()" aria-label="close" style="float: right;">&times;</span></p>
</div>

<form [formGroup]="createAPIForm" (ngSubmit)="onCreateAPI()" id="formCreateAPI" style="width: 90%;">
    <fieldset class="fieldsGroup container" style="width: 100%;max-width: 100%;">
        <legend style="text-align: left; height:17%; margin-top:2%; justify-content: flex-start; font-size: xxx-large;" class="centerVerticalBlock">Add REST API to directory</legend>
        <div class="centerVerticalBlock row align-items-center" style="height: 75%;">
            <div class="col-4">
                <div class="form-group has-danger row align-items-center">
                    <label for="name" class="form-control-label col-4">Name :</label>
                    <span class="col-1"></span>
                    <input type="text" formControlName="name" class="form-control col-7">
                </div>
                <div class="form-group has-danger row align-items-center">
                    <label for="logoURL" class="form-control-label col-4">Logo URL :</label>
                    <span class="col-1"></span>
                    <input type="text" id="logoURL" formControlName="logoURL" class="form-control col-7" (change)="onLoadLogoURL()"/>
                </div>
                <div class="form-group has-danger row align-items-center">
                    <label for="logo" class="form-control-label col-4">(or upload an image) :</label>
                    <span class="col-1"></span>
                    <input type="file" class="form-control col-7" accept="image/*" id="logo" name="logo" aria-describedby="fileHelp" (change)="onLoadLogoFile()">
                </div>
                <div class="form-group has-danger row align-items-center">
                    <img id="imageLogo" style="width: 90%; height: auto;"/>
                </div>
                <div class="custom-control custom-checkbox form-group has-danger row align-items-center">
                    <ul>
                        <li *ngFor="let businessModel of businessModels">
                            <input [formControlName]="businessModel" [name]="businessModel" type="checkbox" class="custom-control-input" [id]="businessModel">
                            <label class="custom-control-label" [for]="businessModel">{{ businessModel }}</label>
                        </li>
                    </ul>
                    
                  </div>
            </div>
            <span class="col-1"></span>
            <div id="versionFields" class="col-7" style="height: 100%;">
                <div class="form-group has-danger row align-items-center" style="height: 50px;">
                    <label for="versionNb" class="form-control-label col-2">Version :</label>
                    <input type="text" formControlName="versionNb" class="form-control col-3">
                    <label for="documentation" class="form-control-label col-3">Documentation :</label>
                    <input formControlName="documentation" type="file" class="form-control col-3" accept=".md,.json,.yml,.yaml,.markdown,text/markdown,application/json,application/x-yaml"
                        id="documentation" name="documentation" aria-describedby="fileHelp" (change)="onLoadDocumentation()">
                </div>
                <div class="form-group row align-items-center justify-content-center">
                    <small style="font-style: italic;">Supported types: OAS (Swagger or v3), RAML (v1), API Blueprint</small>
                </div>
                <div id="OASDocument" class="form-group row align-items-center">
                    <pre></pre>
                </div>
                <div class="form-group has-danger row align-items-center" style="height: 50px; width: 80%; margin: auto;">
                    <label for="versionSummary" class="form-control-label col-3">Version summary :</label>
                    <span class="col-1"></span>
                    <input type="text" formControlName="versionSummary" class="form-control col-8">
                </div>
            </div>
        </div>
        <div class="centerVerticalBlock" style="max-width: 200px;"> 
            <button type="submit" class="btn btn-primary" style="height: 60px;" [disabled]="!createAPIForm.valid">
                Add API
            </button>
        </div>
    </fieldset>
</form>