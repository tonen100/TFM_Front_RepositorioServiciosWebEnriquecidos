<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1121px" preserveAspectRatio="none" style="width:815px;height:1121px;" version="1.1" viewBox="0 0 815 1121" width="815px" zoomAndPan="magnify"><defs><filter height="300%" id="f14o6fpqnacney" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="430" x="193.75" y="22.9951">Authenticacion con Firebase utilizando Custom tokens</text><rect fill="#FFFFFF" filter="url(#f14o6fpqnacney)" height="487.1953" style="stroke: #000000; stroke-width: 2.0;" width="791.5" x="13" y="133.5938"/><rect fill="#FFFFFF" filter="url(#f14o6fpqnacney)" height="338.3984" style="stroke: #000000; stroke-width: 2.0;" width="771.5" x="23" y="275.3906"/><rect fill="#FFFFFF" height="102.2031" style="stroke: none; stroke-width: 1.0;" width="771.5" x="23" y="511.5859"/><rect fill="#FFFFFF" filter="url(#f14o6fpqnacney)" height="382.5313" style="stroke: #000000; stroke-width: 2.0;" width="791.5" x="13" y="634.7891"/><rect fill="#FFFFFF" filter="url(#f14o6fpqnacney)" height="248.8672" style="stroke: #000000; stroke-width: 2.0;" width="771.5" x="23" y="761.4531"/><rect fill="#FFFFFF" height="102.2031" style="stroke: none; stroke-width: 1.0;" width="771.5" x="23" y="908.1172"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="62" x2="62" y1="116.5938" y2="1034.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="292" x2="292" y1="116.5938" y2="1034.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="510" x2="510" y1="116.5938" y2="1034.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="659.5" x2="659.5" y1="116.5938" y2="1034.3203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="745.5" x2="745.5" y1="116.5938" y2="1034.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="33" y="113.292">Usuario</text><ellipse cx="62" cy="43.2969" fill="#FEFECE" filter="url(#f14o6fpqnacney)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M62,51.2969 L62,78.2969 M49,59.2969 L75,59.2969 M62,78.2969 L49,93.2969 M62,78.2969 L75,93.2969 " fill="none" filter="url(#f14o6fpqnacney)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="33" y="1046.3154">Usuario</text><ellipse cx="62" cy="1059.6172" fill="#FEFECE" filter="url(#f14o6fpqnacney)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M62,1067.6172 L62,1094.6172 M49,1075.6172 L75,1075.6172 M62,1094.6172 L49,1109.6172 M62,1094.6172 L75,1109.6172 " fill="none" filter="url(#f14o6fpqnacney)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="255" y="113.292">Front-end</text><ellipse cx="292" cy="84.2969" fill="#FEFECE" filter="url(#f14o6fpqnacney)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="280" x2="304" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="255" y="1046.3154">Front-end</text><ellipse cx="292" cy="1065.6172" fill="#FEFECE" filter="url(#f14o6fpqnacney)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="280" x2="304" y1="1079.6172" y2="1079.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="474" y="113.292">Back-end</text><ellipse cx="510" cy="84.2969" fill="#FEFECE" filter="url(#f14o6fpqnacney)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="498" x2="522" y1="98.2969" y2="98.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="474" y="1046.3154">Back-end</text><ellipse cx="510" cy="1065.6172" fill="#FEFECE" filter="url(#f14o6fpqnacney)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="498" x2="522" y1="1079.6172" y2="1079.6172"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="622.5" y="113.292">MongoDB</text><path d="M642,64.2969 C642,54.2969 660,54.2969 660,54.2969 C660,54.2969 678,54.2969 678,64.2969 L678,90.2969 C678,100.2969 660,100.2969 660,100.2969 C660,100.2969 642,100.2969 642,90.2969 L642,64.2969 " fill="#FEFECE" filter="url(#f14o6fpqnacney)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M642,64.2969 C642,74.2969 660,74.2969 660,74.2969 C660,74.2969 678,74.2969 678,64.2969 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="622.5" y="1046.3154">MongoDB</text><path d="M642,1059.6172 C642,1049.6172 660,1049.6172 660,1049.6172 C660,1049.6172 678,1049.6172 678,1059.6172 L678,1085.6172 C678,1095.6172 660,1095.6172 660,1095.6172 C660,1095.6172 642,1095.6172 642,1085.6172 L642,1059.6172 " fill="#FEFECE" filter="url(#f14o6fpqnacney)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M642,1059.6172 C642,1069.6172 660,1069.6172 660,1069.6172 C660,1069.6172 678,1069.6172 678,1059.6172 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#f14o6fpqnacney)" height="75.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="707.5" y="36.2969"/><image height="45" width="45" x="721.5" xlink:href="data:image/png;base64,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" y="43.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="714.5" y="101.292">Firebase</text><rect fill="#FEFECE" filter="url(#f14o6fpqnacney)" height="75.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="707.5" y="1033.3203"/><image height="45" width="45" x="721.5" xlink:href="data:image/png;base64,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" y="1040.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="714.5" y="1098.3154">Firebase</text><path d="M13,133.5938 L125,133.5938 L125,140.5938 L115,150.5938 L13,150.5938 L13,133.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="487.1953" style="stroke: #000000; stroke-width: 2.0;" width="791.5" x="13" y="133.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="67" x="28" y="146.6606">Conexion</text><polygon fill="#A80036" points="280,182.9922,290,186.9922,280,190.9922,284,186.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62" x2="286" y1="186.9922" y2="186.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="69" y="166.7935">Completa formulario</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="57" x="69" y="181.9263">conexion</text><polygon fill="#A80036" points="498,212.125,508,216.125,498,220.125,502,216.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="504" y1="216.125" y2="216.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="38" x="299" y="211.0591">Log in</text><polygon fill="#A80036" points="648,256.3906,658,260.3906,648,264.3906,652,260.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="654" y1="260.3906" y2="260.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="517" y="240.1919">Verifica la exactitud</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="517" y="255.3247">de las credentiales</text><path d="M23,275.3906 L87,275.3906 L87,282.3906 L77,292.3906 L23,292.3906 L23,275.3906 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="338.3984" style="stroke: #000000; stroke-width: 2.0;" width="771.5" x="23" y="275.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="288.4575">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="151" x="102" y="287.6011">[Credentiales corectas]</text><polygon fill="#A80036" points="521,309.6563,511,313.6563,521,317.6563,517,313.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="515" x2="659" y1="313.6563" y2="313.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="527" y="308.5903">Respuesta positiva</text><polygon fill="#A80036" points="734,338.7891,744,342.7891,734,346.7891,738,342.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="740" y1="342.7891" y2="342.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="517" y="337.7231">Pide token temporario</text><polygon fill="#A80036" points="521,367.9219,511,371.9219,521,375.9219,517,371.9219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="515" x2="745" y1="371.9219" y2="371.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="527" y="366.856">Devuelve el custom token</text><polygon fill="#A80036" points="303,412.1875,293,416.1875,303,420.1875,299,416.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="297" x2="509" y1="416.1875" y2="416.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="309" y="395.9888">Devuelve el custom token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="309" y="411.1216">(Respuesta positiva)</text><polygon fill="#A80036" points="734,441.3203,744,445.3203,734,449.3203,738,445.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="740" y1="445.3203" y2="445.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="299" y="440.2544">Crea sesion</text><polygon fill="#A80036" points="303,470.4531,293,474.4531,303,478.4531,299,474.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="297" x2="745" y1="474.4531" y2="474.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="309" y="469.3872">Sesion (con el id token)</text><polygon fill="#A80036" points="73,499.5859,63,503.5859,73,507.5859,69,503.5859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="67" x2="291" y1="503.5859" y2="503.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="79" y="498.52">Redirige a la pagina principal</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="794.5" y1="512.5859" y2="512.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="163" x="28" y="522.7964">[Credentiales incorectas]</text><polygon fill="#A80036" points="521,543.5234,511,547.5234,521,551.5234,517,547.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="515" x2="659" y1="547.5234" y2="547.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="527" y="542.4575">Respuesta negativa</text><polygon fill="#A80036" points="303,572.6563,293,576.6563,303,580.6563,299,576.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="297" x2="509" y1="576.6563" y2="576.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="309" y="571.5903">Respuesta negativa</text><polygon fill="#A80036" points="73,601.7891,63,605.7891,73,609.7891,69,605.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="67" x2="291" y1="605.7891" y2="605.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="79" y="600.7231">Muestra el error</text><path d="M13,634.7891 L297,634.7891 L297,641.7891 L287,651.7891 L13,651.7891 L13,634.7891 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="382.5313" style="stroke: #000000; stroke-width: 2.0;" width="791.5" x="13" y="634.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="239" x="28" y="647.856">Para cada peticion subsiguiente</text><polygon fill="#A80036" points="280,669.0547,290,673.0547,280,677.0547,284,673.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="62" x2="286" y1="673.0547" y2="673.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="69" y="667.9888">Hace algo particular</text><polygon fill="#A80036" points="498,713.3203,508,717.3203,498,721.3203,502,717.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="292" x2="504" y1="717.3203" y2="717.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="299" y="697.1216">Manda peticion con el id token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="299" y="712.2544">(en el header 'Authorization')</text><polygon fill="#A80036" points="734,742.4531,744,746.4531,734,750.4531,738,746.4531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="740" y1="746.4531" y2="746.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="517" y="741.3872">Pide la verificacion del id token</text><path d="M23,761.4531 L87,761.4531 L87,768.4531 L77,778.4531 L23,778.4531 L23,761.4531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="248.8672" style="stroke: #000000; stroke-width: 2.0;" width="771.5" x="23" y="761.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="38" y="774.52">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="102" y="773.6636">["Token valido"]</text><polygon fill="#A80036" points="521,795.7188,511,799.7188,521,803.7188,517,799.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="515" x2="745" y1="799.7188" y2="799.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="527" y="794.6528">Usuario corespondiente</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="510" x2="552" y1="828.8516" y2="828.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="552" x2="552" y1="828.8516" y2="841.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="511" x2="552" y1="841.8516" y2="841.8516"/><polygon fill="#A80036" points="521,837.8516,511,841.8516,521,845.8516,517,841.8516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="517" y="823.7856">Trata la peticion</text><polygon fill="#A80036" points="303,866.9844,293,870.9844,303,874.9844,299,870.9844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="297" x2="509" y1="870.9844" y2="870.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="309" y="865.9185">Manda respuesta positiva</text><polygon fill="#A80036" points="73,896.1172,63,900.1172,73,904.1172,69,900.1172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="67" x2="291" y1="900.1172" y2="900.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="79" y="895.0513">Actualiza la interfaz</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="794.5" y1="909.1172" y2="909.1172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="28" y="919.3276">["Token incorecto o expirado"]</text><polygon fill="#A80036" points="521,940.0547,511,944.0547,521,948.0547,517,944.0547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="515" x2="745" y1="944.0547" y2="944.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="527" y="938.9888">Error</text><polygon fill="#A80036" points="303,969.1875,293,973.1875,303,977.1875,299,973.1875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="297" x2="509" y1="973.1875" y2="973.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="309" y="968.1216">Manda respuesta negativa</text><polygon fill="#A80036" points="73,998.3203,63,1002.3203,73,1006.3203,69,1002.3203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="67" x2="291" y1="1002.3203" y2="1002.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="79" y="997.2544">Redirige a la pagina de conexion</text><!--
@startuml



title Authenticacion con Firebase utilizando Custom tokens

actor Usuario
entity "Front-end"
entity "Back-end"
database MongoDB
participant "<img:firebase-auth-logo.png>\nFirebase" as Firebase

group Conexion
    Usuario -> "Front-end": Completa formulario\nconexion
    "Front-end" -> "Back-end": Log in
    "Back-end" -> MongoDB: Verifica la exactitud\nde las credentiales
    alt Credentiales corectas
        "MongoDB" - -> "Back-end": Respuesta positiva
        "Back-end" -> Firebase: Pide token temporario
        Firebase - -> "Back-end": Devuelve el custom token
        "Back-end" - -> "Front-end": Devuelve el custom token\n(Respuesta positiva)
        "Front-end" -> Firebase: Crea sesion
        Firebase - -> "Front-end": Sesion (con el id token)
        "Front-end" - -> "Usuario": Redirige a la pagina principal
    else Credentiales incorectas
        "MongoDB" - -> "Back-end": Respuesta negativa
        "Back-end" - -> "Front-end": Respuesta negativa
        "Front-end" - -> "Usuario": Muestra el error
    end
end

group Para cada peticion subsiguiente
    Usuario -> "Front-end": Hace algo particular
    "Front-end" -> "Back-end": Manda peticion con el id token\n(en el header 'Authorization')
    "Back-end" -> "Firebase": Pide la verificacion del id token
    alt "Token valido"
        "Firebase" - -> "Back-end": Usuario corespondiente
        "Back-end" -> "Back-end": Trata la peticion
        "Back-end" - -> "Front-end": Manda respuesta positiva
        "Front-end" - -> "Usuario": Actualiza la interfaz
    else "Token incorecto o expirado"
        "Firebase" - -> "Back-end": Error
        "Back-end" - -> "Front-end": Manda respuesta negativa
        "Front-end" - -> "Usuario": Redirige a la pagina de conexion
    end
end

@enduml

PlantUML version 1.2019.09(Mon Aug 26 18:19:51 CEST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-post-Ubuntu-2ubuntu218.04
Operating System: Linux
OS Version: 5.3.0-51-generic
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>